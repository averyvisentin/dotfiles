# -----------------------------------------------------
# Window rules
# -----------------------------------------------------

# General Floating Rules
# Note: "onscreen" is not a standard keyword in the new move effect, using raw cursor position.
windowrule = match:float true, move cursor_x cursor_y

# Calculator
windowrule = match:class org.gnome.Calculator, float on

# General Move Active to Cursor (Moved float check to match)
# Note: Approximating "10% 10%" offset as +10 pixels. Adjust (monitor_w*0.1) if you meant percentage of screen.
windowrule = match:float true, match:title ^(.*)$, move (cursor_x+10) (cursor_y+10)

# File Upload Dialogs
windowrule = match:title (File Upload), float on, size 956 602

# LSFG / ProtonUp / Stores
windowrule = match:class gay.pancake.lsfg-vk-ui, float on
windowrule = match:class net.davidotek.pupgui2, float on
windowrule = match:class org.squidowl.halloy, float on
windowrule = match:class com.system76.CosmicStore, float on

# Browsers / Chromium
windowrule = match:class Chromium, tile on

# System Tools & Settings (Floating)
windowrule = match:class pavucontrol, float on
windowrule = match:class blueman-manager, float on
windowrule = match:class nm-connection-editor, float on
windowrule = match:class qalculate-gtk, float on
windowrule = match:class dconf-editor, float on
windowrule = match:class input-remapper-gtk, float on
windowrule = match:class cpupower-gui, float on
windowrule = match:class DZGUI, float on

# Ollama
windowrule = match:class ollama, float on, size 1000 720

# Zim Wiki
windowrule = match:class zim, float on
windowrule = match:title "Home - zim-wiki", size 1646 1000

# Proton VPN
windowrule = match:class protonvpn-app, size 600 400

# Wine / Proton / Games
windowrule = match:class Wineboot.exe, float on
windowrule = match:class (Proton Pass), float on
windowrule = match:title Friends List, float on
windowrule = match:class jamesdsp, float on
windowrule = match:class "jamesdsp", float on
windowrule = match:title Jamesdsp, float on
windowrule = match:class zenity, float on
windowrule = match:title LACT, float on
windowrule = match:title Octopi, float on
windowrule = match:title (vkcube), float on

# Obsidian
windowrule = match:class obsidian, float on, move cursor_x cursor_y

# KDE Apps
windowrule = match:class org.kde.gwenview, float on
windowrule = match:class org.kde.okular, float on

# -----------------------------------------------------
# Browser Picture in Picture
# -----------------------------------------------------
# Converted 69.5% and 4% to monitor width/height math
windowrule = match:title ^(Picture-in-Picture)$, float on, pin on, move (monitor_w*0.695) (monitor_h*0.04)

# -----------------------------------------------------
# Pavucontrol Detailed
# -----------------------------------------------------
windowrule = match:class (.*org.pulseaudio.pavucontrol.*), float on, pin on, size 700 600

# -----------------------------------------------------
# Terminal Tetris
# -----------------------------------------------------
windowrule = match:title "terminal-tetris", float on, size 480 680

# -----------------------------------------------------
# Mission Center
# -----------------------------------------------------
windowrule = match:class (io.missioncenter.MissionCenter), float on, pin on, size 1261 809

# Mission Center Preferences
# Matches both class AND title
windowrule = match:class (missioncenter), match:title ^(Preferences)$, float on, pin on

# -----------------------------------------------------
# Explorer / Windows Apps
# -----------------------------------------------------
# "nofocus" became "no_focus"
windowrule = match:class ^(explorer.exe)$, opacity 0, no_focus on

# -----------------------------------------------------
# Emoji Picker Smile
# -----------------------------------------------------
windowrule = match:class (it.mijorus.smile), float on, pin on, move cursor_x cursor_y

# -----------------------------------------------------
# Rofi / Launchers / Settings
# -----------------------------------------------------
windowrule = match:class (vicinae), move cursor_x cursor_y
windowrule = match:class (rofi), move cursor_x cursor_y
windowrule = match:title (hyprpanel-settings), move 5 40

# -----------------------------------------------------
# Specific Placements (Calculated)
# -----------------------------------------------------
# old: move 100%-w-5 40 -> new: (monitor_w - window_w - 5) 40
windowrule = match:class (blueman-manager), move (monitor_w-window_w-5) 40
windowrule = match:class (org.pulseaudio.pavucontrol), move (monitor_w-window_w-5) 40

# Waypaper
windowrule = match:class (waypaper), float on, size 1080 640

# Sysd Manager
windowrule = match:class (sysd-manager), float on
